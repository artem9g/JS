<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <title>Задача 6 L. 18</title>
  </head>

  <body>
    <h1>Задача 6</h1>
    <div>
      <h3><a href="../index.html">Поврнутися до головної сторінки з усіма ДЗ.</a></h3>
      <h4><b>Завдання:</b></h4>
      <p>
        Користувач задає кількість оцінок і натискає на кнопку «get table». В результаті формується таблиця з input, куди користувач вводить оцінки. Після цього
        натискає на кнопку “get sum” і знаходить середнє значення.
      </p>
      <img src="../img/6.png" alt="" />
    </div>
    <div>
      <label><b>Price number</b> <input type="number" id="amountsRating" /></label>
    </div>
    <button id="getTable">get table</button>
    <div id="result"></div>
    <script>
      //ф-ція створеня полів -фція отримує у форм параметри кількість полів
      function getAmountsRating(ratingFileds) {
        ratingFileds = parseInt(ratingFileds)
        let result = document.getElementById("result")
        let button = document.createElement("button")
        button.setAttribute("id", "get_sum")
        button.setAttribute("onclick", " getResult() ") //дімаічно створюється
        button.innerText = "get sum"
        for (let raitingFileld = 0; raitingFileld < ratingFileds; raitingFileld++) {
          let field = document.createElement("input")
          field.setAttribute("class", "input-fields")
          result.append(field)
        }
        result.after(button)
      }
      //ф-ція підрахунку
      function getResult() {
        const listOfPrices = document.getElementsByClassName("input-fields")
        let result = 0
        for (let price of listOfPrices) {
          result = result + parseFloat(price.value)
        }
        console.log(result)
        const resultElement = document.createElement("p")
        resultElement.innerText = `sum = ${result}`
        document.getElementById("get_sum").after(resultElement)
      }
      document.getElementById("getTable").onclick = () => getAmountsRating(document.getElementById("amountsRating").value) //по кліку визваємо фцію яка формує поля і в параметри фцііі передаємо кілкість з інпуту
    </script>
  </body>
</html>
