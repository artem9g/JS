<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <title>Lesson 5</title>
    <style></style>
  </head>

  <body>
    <h1>Задача 13</h1>
    <p>
      <b>Завдання:</b>
      Морський бій. Комп’ютер випадково розташовує одиночний корабель на полі розміром N*M. Маючи К снарядів користувач
      намагається потопити корабель.
    </p>
    <h2><b>Результат: </b></h2>
    <div>
      <table>
        <tbody>
          <script>
            //1.Вводимо необхідні дані
            const amountOfShot = 10
            const widthGrid = 10
            const heightGrid = 10
            let verticalPositionBattleShip = Math.floor(Math.random() * (heightGrid - 1) + 1)
            let horizontalPositionBattleShip = Math.floor(Math.random() * (widthGrid - 1) + 1)
            //2. Два цикла які генерують рядки і колонки в остантому виставляє корабль в сгенерованих коордінатах
            for (let i = 0; i <= heightGrid; i++) {
              document.write(`<tr>`)
              for (let w = 0; w <= widthGrid; w++) {
                document.write(`<td style="border: solid 2px #000; padding:10px;">`)
                if (i === 0) document.write(`${w}`) // в першому/нульовому рядку чи клонці- нумеруєем сітку
                if (w === 0) document.write(`${i}`) // в першому/нульовому рядку чи клонці- нумеруєем сітку
                //строкою нижче виставляємо корабль в полі, в час його генерації
                if (i === verticalPositionBattleShip && w === horizontalPositionBattleShip) {
                  document.write(`<div class="battleShip" style="width: 15px; height: 15px; background-color: #000"></div>`)
                }
                document.write(`</td>`)
              }
              document.write(`</td>`)
            }
            //3.Запитуємо у користувача коордінати пострілу і порівнюємо з коордінатами коробля і в випадку успіху виводимо алерт і завершуємо достроково цикл
            for (let c = 1; c <= 3; c++) {
              let shotVertical = parseInt(prompt(`Спроба № ${c}. Введіть точку для атаки по вертикалі`, "1"))
              let shotHorizontal = parseInt(prompt(`Введіть точку для атаки по горізонталі`, "1"))
              if (shotVertical === verticalPositionBattleShip && shotHorizontal === horizontalPositionBattleShip) {
                //4.Виводимо результат
                alert(
                  `Ви попали по кораблю і потопили його в точках h=${verticalPositionBattleShip}, v=${horizontalPositionBattleShip}`
                )
                document.write(
                  `<h3> Ви попали по кораблю і потопили його в точках h=${verticalPositionBattleShip}, v=${horizontalPositionBattleShip}</h3>`
                )
                break
              }
              if (c === 3) {
                document.write(
                  `<h3 style="color:red;"> Ви не попали по кораблю в точках h=${verticalPositionBattleShip}, v=${horizontalPositionBattleShip}</h3>`
                )
              }
            }
          </script>
        </tbody>
      </table>
    </div>
  </body>
</html>
